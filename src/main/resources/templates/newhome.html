<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>

    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <title>TalabJobs.com</title>
    <!--

    Template 2088 Big City

    http://www.tooplate.com/view/2088-big-city

    -->
    <!-- load stylesheets -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400"

          th:href="@{https://fonts.googleapis.com/css?family=Open+Sans:300,400}"/>
    <!-- Google web font "Open Sans" -->
    <link rel="stylesheet" href="css/bootstrap.min.css"
          th:href="@{css/bootstrap.min.css}"/>
    <!-- Bootstrap style -->
    <link rel="stylesheet" href="css/hero-slider-style.css"
          th:href="@{css/hero-slider-style.css}"/>
    <!-- Hero slider style (https://codyhouse.co/gem/hero-slider/) -->
    <link rel="stylesheet" href="css/magnific-popup.css"
          th:href="@{css/magnific-popup.css}"/>
    <!-- Magnific popup style (http://dimsemenov.com/plugins/magnific-popup/) -->
    <link rel="stylesheet" href="css/tooplate-style.css"
          th:href="@{css/tooplate-style.css}"/>
    <!-- Tooplate style -->
    <script src='https://www.google.com/recaptcha/api.js'></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <!--<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>-->
    <!--<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>-->
    <!--<script src='https://www.google.com/recaptcha/api.js'></script>-->
    <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>-->
    <!--<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>-->

    <![endif]-->
</head>

<body>

<div class="cd-bg-video-wrapper" data-video="video/bangkok-city">
    <!-- video element will be loaded using jQuery -->
</div> <!-- .cd-bg-video-wrapper -->

<!-- Content -->
<div class="cd-hero">

    <!-- Navigation -->
    <div class="cd-slider-nav">
        <div class="container">
            <nav class="navbar">
                <div class="tm-navbar-bg">
                    <a class="navbar-brand text-uppercase" href="#">Talab Jobs</a>
                    <button class="navbar-toggler hidden-lg-up" type="button" data-toggle="collapse"
                            data-target="#tmNavbar">
                        &#9776;
                    </button>
                    <div class="collapse navbar-toggleable-md text-xs-center text-uppercase tm-navbar"
                         id="tmNavbar">
                        <ul class="nav navbar-nav">
                            <li class="nav-item active selected">
                                <a class="nav-link" href="#0" data-no="1">Home <span
                                        class="sr-only">(current)</span></a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#0" data-no="2">Jobs</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#0" data-no="3">Post A Job</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
    </div>

    <ul class="cd-hero-slider">  <!-- autoplay -->

        <!-- Page 1 Home -->
        <li class="selected">
            <div class="cd-full-width">
                <div class="container js-tm-page-content tm-page-1 tm-section-margin-t-small"
                     data-page-no="1">
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="tm-home-container-outer">
                                <div class="tm-home-container">
                                    <div class="tm-home-title-container">
                                        <h2 class="tm-text-title text-xs-center tm-home-title">
                                            Welcome to TalabJobs</h2>
                                    </div>
                                    <div class="tm-home-description-container tm-bg-dark-blue">
                                        <div class="text-xs-left tm-textbox">
                                            <p class="tm-text tm-home-description">We want to help
                                                each student get a part Time Job.</p>
                                            <p class="tm-text tm-home-description">Our Aim is to
                                                Connect Students With Part Time Employers</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="tm-home-container-bg"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div> <!-- .cd-full-width -->
        </li>

        <!-- Page 2 About -->
        <li>

            <div class="container js-tm-page-content tm-section-margin-t" data-page-no="2">
                <div class="myrow" th:each="job,iterStat : ${jobs}">
                    <div class="col-xs-4">
                        <div class="tm-flex">
                            <div class="col-lg-12 tm-white-header-container-outer tm-margin-b tm-2-col-left">
                                <div class="tm-bg-white tm-white-header-container">
                                    <h2 class="tm-text-title tm-text-title-small"
                                        th:text="${job.companyName}">Donec dictum aliquam</h2>
                                </div>
                                <div class="tm-bg-dark-blue text-xs-left tm-textbox tm-textbox-padding tm-white-header-body tm-white-border tm-2-col-equal-height">
                                    <p class="tm-text" th:text="${job.category}">category</p>
                                    <p class="tm-text" th:text="${job.city}">City</p>
                                    <p class="tm-text" th:text="${job.pay}">pay</p>
                                    <!-- Trigger the modal with a button -->
                                    <button th:attr="onclick='show('+${job.id}+')'">
                                        view More
                                    </button>
                                    <!-- Modal -->

                                </div>
                            </div>
                        </div>


                    </div>
                </div>
            </div>
            <!-- .cd-full-width -->

        </li>


        <!-- Page 4 Contact -->
        <li>
            <div class="cd-full-width">
                <div class="container js-tm-page-content tm-section-margin-t-small"
                     data-page-no="3">
                    <div class="tm-contact-page">
                        <div class="row tm-margin-b">
                            <div class="col-xs-12">
                                <div class="tm-bg-white tm-textbox-padding">
                                    <h2 class="tm-text-title tm-margin-b-0">Post A Job</h2>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-xs-12">
                                <div class="tm-flex tm-contact-container tm-bg-dark-blue">
                                    <div class="text-xs-left tm-textbox tm-2-col-textbox-2 tm-textbox-padding tm-textbox-padding-contact">
                                        <p class="tm-text">Posting a Job is As easy as Filling The
                                            Form!</p>
                                        <p class="tm-text">For Any Query mail at </p>
                                        <a class="tm-text" href="mailto:talabjobs@gmail.com">talabjobs@gmail.com</a>
                                    </div>

                                    <div class="text-xs-left tm-textbox tm-2-col-textbox-2 tm-textbox-padding tm-textbox-padding-contact">
                                        <!-- contact form -->
                                        <form action="#" th:action="@{/add-job}" th:object="${job}"
                                              method="post" class="tm-contact-form">
                                            <div class="form-group">
                                                <input type="text" id="contact_name"
                                                       th:field="*{CompanyName}" name="contact_name"
                                                       class="form-control"
                                                       placeholder="CompanyName" required/>
                                            </div>
                                            <div class="form-group">
                                                <input type="email" id="contact_email"
                                                       th:field="*{contact}" name="contact_email"
                                                       class="form-control" placeholder="Email"
                                                       required/>
                                            </div>
                                            <div class="form-group">
                                                <input type="text" id="post"
                                                       th:field="*{post}" name="position"
                                                       class="form-control" placeholder="position"
                                                       required/>
                                            </div>
                                            <div class="form-group">
                                                <textarea id="contact_message"
                                                          name="contact_message"
                                                          th:field="*{description}"
                                                          class="form-control" rows="5"
                                                          placeholder="Job Description"
                                                          required></textarea>
                                            </div>
                                            <div class="form-group"> <!-- Street 1 -->
                                                <label for="city">City</label>
                                                <input type="text" th:field="*{city}"
                                                       class="form-control" id="city" name="city"
                                                       placeholder="paris"/>
                                            </div>

                                            <div class="form-group"> <!-- State Button -->
                                                <label for="category">Category</label>
                                                <select th:field="*{category}" class="form-control"
                                                        id="category" name="category">
                                                    <option value="Sales Marketing">Sales
                                                        Marketing
                                                    </option>
                                                    <option value="Consulting">Consulting</option>
                                                    <option value="Other-Business">Other-Business
                                                    </option>
                                                    <option value="Non-Business">Non-Business
                                                    </option>
                                                </select>
                                            </div>

                                            <div class="form-group"> <!-- Street 2 -->
                                                <label for="pay">Pay</label>
                                                <input type="text" th:field="*{pay}"
                                                       class="form-control" id="pay" name="pay"
                                                       placeholder="Pay ex- 100Euro/Week  Or 500Euro/Month"/>
                                            </div>

                                            <div class="form-group"> <!-- City-->
                                                <label for="duration">Duration</label>
                                                <input type="text" th:field="*{duration}"
                                                       class="form-control" id="duration"
                                                       name="duration"
                                                       placeholder="5 weeks"/>
                                            </div>
                                            <div class="g-recaptcha" th:attr="data-sitekey='6Lerxj8UAAAAALm5R1-qN0NMaTLb2OU563P7Mvax'">

                                            </div>
                                            <button type="submit" class="tm-submit-btn">Post My
                                                Add
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div> <!-- .cd-full-width -->
        </li>
    </ul> <!-- .cd-hero-slider -->

    <footer class="tm-footer">
        <p class="tm-copyright-text pull-xs-right">Copyright &copy; <span class="tm-current-year">2017</span>
            talabjobs.com
            <a rel="nofollow" href="http://www.tooplate.com" class="tm-footer-link"
               target="_parent"></a></p>
    </footer>
</div> <!-- .cd-hero -->

<!-- Preloader, https://ihatetomatoes.net/create-custom-preloading-screen/ -->
<div id="loader-wrapper">
    <div id="loader"></div>
    <div class="loader-section section-left"></div>
    <div class="loader-section section-right"></div>
</div>

<!-- load JS files -->
<script src="js/jquery-1.11.3.min.js"></script><!-- jQuery (https://jquery.com/download/) -->
<script src="js/tether.min.js"></script>                <!-- http://tether.io/ -->
<script src="js/isInViewport.min.js"></script>
<!-- isInViewport js (https://github.com/zeusdeux/isInViewport) -->
<script src="js/bootstrap.min.js"></script><!-- Bootstrap js (v4-alpha.getbootstrap.com/) -->
<script src="js/hero-slider-main.js"></script>
<!-- Hero slider (https://codyhouse.co/gem/hero-slider/) -->
<script src="js/jquery.magnific-popup.min.js"></script>
<!-- Magnific popup (http://dimsemenov.com/plugins/magnific-popup/) -->

<script>

            function adjustHeightOfPage(pageNo) {

                var offset = 80;
                var pageContentHeight = $(".cd-hero-slider li:nth-of-type(" + pageNo + ") .js-tm-page-content").height();

                if($(window).width() >= 992) { offset = 120; }
                else if($(window).width() < 480) { offset = 40; }

                // Get the page height
                var totalPageHeight = 335 + $('.cd-slider-nav').height()
                                        + pageContentHeight + offset
                                        + $('.tm-footer').height();

                // Adjust layout based on page height and window height
                if(totalPageHeight > $(window).height())
                {
                    $('.cd-hero-slider').addClass('small-screen');
                    $('.cd-hero-slider li:nth-of-type(' + pageNo + ')').css("min-height", totalPageHeight + "px");
                }
                else
                {
                    $('.cd-hero-slider').removeClass('small-screen');
                    $('.cd-hero-slider li:nth-of-type(' + pageNo + ')').css("min-height", "100%");
                }
            }

            function uploadVideo() {

                var videoWrapper = $('.cd-bg-video-wrapper');
                if( videoWrapper.is(':visible') ) {
                    // if visible - we are not on a mobile device
                    var videoUrl = videoWrapper.data('video'),

                    video = $('<video autoplay loop><source src="'+videoUrl+'.mp4" type="video/mp4" /></video>');
                    video.appendTo(videoWrapper);

                    // play video if first slide
                    if(videoWrapper.parent('.cd-bg-video.selected').length > 0) video.get(0).play();
                }
            }

            // Everything is loaded including images.
            $(window).load(function(){

                adjustHeightOfPage(1); // Adjust page height

                // Background Video
                if($( window ).width() > 800) {
                    uploadVideo();


                }
                /* Gallery One pop up
                -----------------------------------------*/
                $('.gallery-first').magnificPopup({
                    delegate: 'a', // child items selector, by clicking on it popup will open
                    type: 'image',
                    gallery:{enabled:true}
                });


                /* Gallery Two pop up
                -----------------------------------------*/
                $('.gallery-second').magnificPopup({
                    delegate: 'a', // child items selector, by clicking on it popup will open
                    type: 'image',
                    gallery:{enabled:true}
                });

                /* Collapse menu after click
                -----------------------------------------*/
                $('#tmNavbar a').click(function(){
                    $('#tmNavbar').collapse('hide');

                    adjustHeightOfPage($(this).data("no")); // Adjust page height
                });

                /* Browser resized
                -----------------------------------------*/
                $( window ).resize(function() {
                    var currentPageNo = $(".cd-hero-slider li.selected .js-tm-page-content").data("page-no");

                    // wait 3 seconds
                    setTimeout(function() {
                        adjustHeightOfPage( currentPageNo );
                    }, 3000);

                    if($( window ).width() > 800) {
                       uploadVideo();
                    }

                });

                // Play video only when visible
                // https://stackoverflow.com/questions/21163756/html5-and-javascript-to-play-videos-only-when-visible
                $('video').each(function(){
                    if ($(this).is(":in-viewport")) {
                        $(this)[0].play();
                    } else {
                        $(this)[0].pause();
                    }
                })

                // Remove preloader (https://ihatetomatoes.net/create-custom-preloading-screen/)
                $('body').addClass('loaded');
                $('.tm-current-year').text(new Date().getFullYear());

            });

            function show(id){
                 $('#'+id).modal('show');
                 $('#'+id).css('z-index',1045);

            };






</script>


</body>
<div th:each="job,iterStat : ${jobs}">
    <div class="modal" th:attr="id=${job.id}">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close"
                        data-dismiss="modal">&times;
                </button>
                <h4 class="modal-title" th:text="${job.companyName}">Modal Header</h4>
            </div>
            <div class="modal-body">
                <p><b>Category:</b></p>
                <p class="tm-text" th:text="${job.category}">category</p>
                <br/>
                <p><b>Position:</b></p>
                <p class="tm-text" th:text="${job.post}">category</p>

                <br/>
                <p><b>Job Description:</b></p>
                <p th:text="${job.description}">Some text in the modal.</p>
                <br/>
                <br/>
                <p><b>Duration:</b></p>
                <span><a href="#" th:text="${job.duration}">Duration</a></span>
                <br/>


                <p><b>City:</b></p>
                <p class="tm-text" th:text="${job.city}">City</p>
                <br/>

                <p><b>Salary:</b></p>
                <p class="tm-text" th:text="${job.pay}">pay</p>
                <br/>

                <p class="product-stars">Apply At: &nbsp; &nbsp;</p>
                <p class="product-stars"><a th:href="@{'mailto:'+${job.contact}}"
                                            th:text="${job.contact}">contact</a></p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default"
                        data-dismiss="modal">Close
                </button>
            </div>
        </div>

    </div>
</div>
</html>